#:import dp kivy.metrics.dp

MainScreenManager:

<BookRow@BoxLayout>:
    book_id: ""
    title: ""
    publisher: ""
    year: ""
    translator: ""
    genre: ""
    available: ""
    orientation: "horizontal"
    size_hint_y: None
    height: dp(32)
    Label:
        text: root.book_id
        size_hint_x: .1
    Label:
        text: root.title
        size_hint_x: .25
    Label:
        text: root.publisher
        size_hint_x: .18
    Label:
        text: root.year
        size_hint_x: .12
    Label:
        text: root.translator
        size_hint_x: .12
    Label:
        text: root.genre
        size_hint_x: .13
    Label:
        text: root.available
        size_hint_x: .1
<CopyRow@BoxLayout>:
    copy_id: ""
    state: ""
    orientation: "horizontal"
    size_hint_y: None
    height: dp(32)
    Label:
        text: root.copy_id
        size_hint_x: .2
    Label:
        text: root.state
        size_hint_x: .8
<MemberBorrowedBookRow@BoxLayout>:
    loan_id : ""
    book_title : ""
    book_id : ""
    member_id : ""
    copy_id : ""
    borrowed_date :""
    return_date :""
    predicted_return_date : ""
    managed_by_employee_id : ""
    orientation: "horizontal"
    size_hint_y: None
    height: dp(32)
    Label:
        text: root.loan_id
        size_hint_x: .1
    Label:
        text:root.book_title
        size_hint_x: .1
    Label:
        text:root.book_id
        size_hint_x: .1
    Label:
        text:root.member_id
        size_hint_x: .1
    Label:
        text:root.copy_id
        size_hint_x: .1
    Label:
        text:root.borrowed_date
        size_hint_x: .1
    Label:
        text:root.return_date
        size_hint_x: .1
    Label:
        text:root.predicted_return_date
        font_size:13
        size_hint_x: .15
    Label:
        text:root.managed_by_employee_id
        size_hint_x: .1

<MemberFineRow@BoxLayout>:
    member_id : ""
    name:""
    last_name:""
    loan_id:""
    fine_amount:""
    payment_status:""
    size_hint_y: None
    height: dp(32)
    Label:
        text: root.member_id
        size_hint_x: .15
    Label:
        text:root.name
        size_hint_x: .15
    Label:
        text:root.last_name
        size_hint_x: .2
    Label:
        text: root.loan_id
        size_hint_x: .15
    Label:
        text:root.fine_amount
        size_hint_x: .2
    Label:
        text:root.payment_status
        size_hint_x: .15
<MemberRow@BoxLayout>:
    member_id:""
    name:""
    last_name:""
    address:""
    reg_date :""
    max_books :""
    mem_type :""
    phone:""
    orientation: "horizontal"
    size_hint_y: None
    height: dp(32)
    Label:
        text: root.member_id
        size_hint_x: .1
    Label:
        text: root.name
        size_hint_x: .1
    Label:
        text: root.last_name
        size_hint_x: .15
    Label:
        text: root.address
        size_hint_x: .25
    Label:
        text: root.reg_date
        font_size:13
        size_hint_x: .1
    Label:
        text: root.max_books
        size_hint_x: .1
    Label:
        text: root.mem_type
        size_hint_x: .1 
    Label:
        text: root.phone
        size_hint_x: .1  
      
<MainScreenManager>:
    LoginScreen:
        name: "login"
    MemberScreen:
        name: "member"
    LibrarianScreen:
        name: "librarian"

<LoginScreen>:
    librarian_username : librarian_username
    librarian_password : librarian_password
    member_username : member_username
    member_password : member_password
    librarian_error : librarian_error
    member_error : member_error
    BoxLayout:
        orientation: "vertical"
        padding: dp(40)
        spacing: dp(20)
        Label:
            text: "Library System Login"
            font_size: 32
            size_hint_y: 0.2
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Librarian Login"
                BoxLayout:
                    orientation: "vertical"
                    spacing: dp(10)
                    Label:
                        text: "Librarian Login"
                        font_size: 20
                        size_hint_y: 0.2
                    TextInput:
                        id: librarian_username
                        hint_text: "Username"
                        multiline: False
                        size_hint_y: 0.25
                    TextInput:
                        id: librarian_password
                        hint_text: "Password"
                        password: True
                        multiline: False
                        size_hint_y: 0.25
                    Label:
                        id:librarian_error
                        text: ""
                        font_size: 20
                        size_hint_y: 0.1
                    Button:
                        text: "Login"
                        on_release: root.librarian_login(root.librarian_username.text,root.librarian_password.text)
                        size_hint_y: 0.2
                    
                        
            TabbedPanelItem:
                text: "Member Login"
                BoxLayout:
                    orientation: "vertical"
                    spacing: dp(10)
                    Label:
                        text: "Member Login"
                        font_size: 20
                        size_hint_y: 0.2
                    TextInput:
                        id: member_username
                        hint_text: "Username"
                        multiline: False
                        size_hint_y: 0.25
                    TextInput:
                        id: member_password
                        hint_text: "Password"
                        password: True
                        multiline: False
                        size_hint_y: 0.25
                    Label:
                        id:member_error
                        text: ""
                        font_size: 20
                        size_hint_y: 0.1
                    Button:
                        text: "Login"
                        size_hint_y: 0.2
                        on_release: root.member_login(root.member_username.text,root.member_password.text)

<MemberScreen>:
    member_search_book_input:member_search_book_input
    member_books_list:member_books_list
    member_borrowed_list:member_borrowed_list
    member_fines_list:member_fines_list
    BoxLayout:
        orientation: "vertical"
        Button:
            text:"logout"
            size_hint_y : 0.05
            on_press:app.root.current = "login"
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Main"
                TabbedPanel:
                    do_default_tab: False
                    TabbedPanelItem:
                        text: "Search Books"
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            BoxLayout:
                                size_hint_y: None
                                height: dp(40)
                                TextInput:
                                    id: member_search_book_input
                                    hint_text: "Search books..."
                                Button:
                                    text: "Search"
                                    on_press:root.search_book(root.member_search_book_input.text)
                            RecycleView:
                                id: member_books_list
                                viewclass: "BookRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                
            TabbedPanelItem:
                text: "Dashboard"
                TabbedPanel:
                    do_default_tab: False
                    TabbedPanelItem:
                        text: "Borrowed Books"
                        on_release:root.load_loans()
                        font_size:13
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Active Borrowed Books"
                                font_size: 18
                                size_hint_y : 0.1
                            RecycleView:
                                id: member_borrowed_list
                                viewclass: "MemberBorrowedBookRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                
                    TabbedPanelItem:
                        text: "Fines"
                        on_release:root.load_fines()
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Fines"
                                font_size: 18
                                size_hint_y: 0.1
                            RecycleView:
                                id: member_fines_list
                                viewclass: "MemberFineRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                               

<LibrarianScreen>:
    librarian_search_book_input:librarian_search_book_input
    librarian_books_list:librarian_books_list
    librarian_search_member_input:librarian_search_member_input
    librarian_members_list:librarian_members_list
    librarian_fine_report:librarian_fine_report
    librarian_fines_list:librarian_fines_list
    librarian_loan_report:librarian_loan_report
    librarian_loans_list:librarian_loans_list
    add_member:add_member
    delete_member:delete_member
    edit_member:edit_member
    add_book:add_book
    edit_book:edit_book
    delete_book:delete_book
    add_copy:add_copy
    delete_copy:delete_copy
    librarian_copy_list:librarian_copy_list
    librarian_search_copy_input:librarian_search_copy_input
    edit_loan:edit_loan
    edit_fine: edit_fine
    register_loan:register_loan
    BoxLayout:
        orientation: "vertical"
        Button:
            text:"logout"
            size_hint_y : 0.05
            on_press:app.root.current = "login"
        TabbedPanel:
            do_default_tab: False
            TabbedPanelItem:
                text: "Main"
                TabbedPanel:
                    do_default_tab: False
                    TabbedPanelItem:
                        text: "Search Books"
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            BoxLayout:
                                size_hint_y: None
                                height: dp(40)
                                TextInput:
                                    id: librarian_search_book_input
                                    hint_text: "Search books..."
                                Button:
                                    text: "Search"
                                    on_press:root.search_book(root.librarian_search_book_input.text)
                            RecycleView:
                                id: librarian_books_list
                                viewclass: "BookRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                
            TabbedPanelItem:
                text: "Dashboard"
                TabbedPanel:
                    do_default_tab: False
                    TabbedPanelItem:
                        text: "Search Members"
                        font_size : 13
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            BoxLayout:
                                size_hint_y: None
                                height: dp(40)
                                TextInput:
                                    id: librarian_search_member_input
                                    hint_text: "Search members..."
                                Button:
                                    text: "Search"
                                    on_press:root.search_member(root.librarian_search_member_input.text)
                            RecycleView:
                                id: librarian_members_list
                                viewclass: "MemberRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                
                    TabbedPanelItem:
                        id:add_member
                        text: "Add User"
                        name:name
                        lastname:lastname
                        password:password
                        address:address
                        registrationdate:registrationdate
                        maxbooks:maxbooks
                        memtype:memtype
                        phone:phone
                        message:message
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Add New User"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: name
                                hint_text: "Name"
                            TextInput:
                                id: lastname
                                hint_text: "LastName"
                            TextInput:
                                id: password
                                hint_text: "Password"
                            TextInput:
                                id: address
                                hint_text: "Address"
                            TextInput:
                                id: registrationdate
                                hint_text: "RegistrationDate(yyyy-mm-dd)"
                            TextInput:
                                id: maxbooks
                                hint_text: "MaximumNumberOfBorrowedBooks"
                            TextInput:
                                id: memtype
                                hint_text: "TypeOfMembership(VIP/Basic)"
                            TextInput:
                                id: phone
                                hint_text: "PhoneNumber"
                            Button:
                                text:"Submit"
                                on_press:root.add_member_func(root.add_member.name.text,root.add_member.lastname.text,root.add_member.password.text,root.add_member.address.text,root.add_member.registrationdate.text,int(root.add_member.maxbooks.text),root.add_member.memtype.text,root.add_member.phone.text)
                            Label:
                                id:message
                                text:"---"
                    TabbedPanelItem:
                        text: "Edit User"
                        id:edit_member
                        name2:name2
                        lastname2:lastname2
                        password2:password2
                        address2:address2
                        memberid2:memberid2
                        maxbooks2:maxbooks2
                        memtype2:memtype2
                        phone2:phone2
                        message2:message2
                        submit2:submit2
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Edit User"
                                font_size: 18
                                size_hint_y:0.1
                            BoxLayout:
                                orientation: "horizontal"
                                padding: dp(10)
                                spacing: dp(10)
                                TextInput:
                                    id: memberid2
                                    hint_text: "MemberID"
                                    size_hint_x:0.8
                                Button:
                                    text:"Set"
                                    on_press:root.edit_member_set(root.edit_member.memberid2.text)
                                    size_hint_x:0.2
                            TextInput:
                                id: name2
                                hint_text: "Name"
                                disabled:True
                            TextInput:
                                id: lastname2
                                hint_text: "LastName"
                                disabled:True
                            TextInput:
                                id: password2
                                hint_text: "Password"
                                disabled:True
                            TextInput:
                                id: address2
                                hint_text: "Address"
                                disabled:True
                            TextInput:
                                id: maxbooks2
                                hint_text: "MaximumNumberOfBorrowedBooks"
                                disabled:True
                            TextInput:
                                id: memtype2
                                hint_text: "TypeOfMembership(VIP/Basic)"
                                disabled:True
                            TextInput:
                                id: phone2
                                hint_text: "PhoneNumber"
                                disabled:True
                            Button:
                                id:submit2
                                disabled:True
                                text:"Submit"
                                on_press:root.edit_member_func(root.edit_member.memberid2.text,root.edit_member.name2.text,root.edit_member.lastname2.text,root.edit_member.password2.text,root.edit_member.address2.text,int(root.edit_member.maxbooks2.text),root.edit_member.memtype2.text,root.edit_member.phone2.text)
                            Label:
                                id:message2
                                text:"---"
                    TabbedPanelItem:
                        text: "Remove User"
                        id : delete_member
                        memberid3:memberid3
                        submit3:submit3
                        message3:message3
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Remove User"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: memberid3
                                hint_text: "MemberID"
                                size_hint_y:0.2
                            Button:
                                id:submit3
                                text:"Submit"
                                size_hint_y:0.2
                                on_press:root.delete_member_func(root.delete_member.memberid3.text)
                            Label:
                                text:"---"
                                size_hint_y:0.5
                                id:message3
                    TabbedPanelItem:
                        text: "Add Book"
                        id: add_book
                        title4:title4
                        publisher4:publisher4
                        pubyear4:pubyear4
                        translator4:translator4
                        genre4:genre4
                        submit4:submit4
                        message4:message4
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Add New Book"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: title4
                                hint_text: "Title"
                            TextInput:
                                id: publisher4
                                hint_text: "Publisher"
                            TextInput:
                                id: pubyear4
                                hint_text: "PublishedYear"
                            TextInput:
                                id: translator4
                                hint_text: "Translator"
                            TextInput:
                                id: genre4
                                hint_text: "Genre"
                            Button:
                                id:submit4
                                text:"Submit"
                                on_press:root.add_book_func(root.add_book.title4.text,root.add_book.publisher4.text,root.add_book.pubyear4.text,root.add_book.translator4.text,root.add_book.genre4.text)
                            Label:
                                id:message4
                                text:"---"
                    TabbedPanelItem:
                        text: "Edit Book"
                        id : edit_book
                        bookid5:bookid5
                        title5:title5
                        publisher5:publisher5
                        pubyear5:pubyear5
                        translator5:translator5
                        genre5:genre5
                        submit5:submit5
                        message5:message5
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Edit Book"
                                font_size: 18
                                size_hint_y:0.1
                            BoxLayout:
                                orientation: "horizontal"
                                padding: dp(10)
                                spacing: dp(10)
                                TextInput:
                                    id: bookid5
                                    hint_text: "BookID"
                                    size_hint_x:0.8
                                Button:
                                    text:"Set"
                                    on_press:root.edit_book_set(root.edit_book.bookid5.text)
                                    size_hint_x:0.2
                            TextInput:
                                id: title5
                                disabled:True
                                hint_text: "Title"
                            TextInput:
                                id: publisher5
                                disabled:True
                                hint_text: "Publisher"
                            TextInput:
                                id: pubyear5
                                disabled:True
                                hint_text: "PublishedYear"
                            TextInput:
                                id: translator5
                                disabled:True
                                hint_text: "Translator"
                            TextInput:
                                id: genre5
                                disabled:True
                                hint_text: "Genre"
                            Button:
                                id:submit5
                                text:"Submit"
                                disabled:True
                                on_press:root.edit_book_func(root.edit_book.bookid5.text,root.edit_book.title5.text,root.edit_book.publisher5.text,root.edit_book.pubyear5.text,root.edit_book.translator5.text,root.edit_book.genre5.text)
                            Label:
                                id:message5
                                text:"---"
                    TabbedPanelItem:
                        text: "Remove Book"
                        id : delete_book
                        bookid6:bookid6
                        submit6:submit6
                        message6:message6
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Remove Book"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: bookid6
                                hint_text: "BookID"
                                size_hint_y:0.2
                            Button:
                                id:submit6
                                text:"Submit"
                                size_hint_y:0.2
                                on_press:root.delete_book_func(root.delete_book.bookid6.text)
                            Label:
                                text:"---"
                                size_hint_y:0.5
                                id:message6
                        
                    TabbedPanelItem:
                        text: "Add Copy"
                        id:add_copy
                        bookid7:bookid7
                        submit7:submit7
                        message7:message7
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Add Copy"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: bookid7
                                hint_text: "BookID"
                                size_hint_y:0.2
                            Button:
                                id:submit7
                                text:"Submit"
                                size_hint_y:0.2
                                on_press:root.add_copy_func(root.add_copy.bookid7.text)
                            Label:
                                text:"---"
                                size_hint_y:0.5
                                id:message7
                    TabbedPanelItem:
                        text: "Search Copies"
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            BoxLayout:
                                size_hint_y: None
                                height: dp(40)
                                TextInput:
                                    id: librarian_search_copy_input
                                    hint_text: "BookID"
                                Button:
                                    text: "Search"
                                    on_press:root.search_copies(root.librarian_search_copy_input.text)
                            RecycleView:
                                id: librarian_copy_list
                                viewclass: "CopyRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(32)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                    TabbedPanelItem:
                        text: "Remove Copy"
                        id:delete_copy
                        copyid8:copyid8
                        submit8:submit8
                        message8:message8
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Remove Copy"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: copyid8
                                hint_text: "CopyID"
                                size_hint_y:0.2
                            Button:
                                id:submit8
                                text:"Submit"
                                size_hint_y:0.2
                                on_press:root.delete_copy_func(root.delete_copy.copyid8.text)
                            Label:
                                text:"---"
                                size_hint_y:0.5
                                id:message8
                    TabbedPanelItem:
                        text: "Edit Loan"
                        id : edit_loan
                        loanid9:loanid9
                        message9:message9
                        return_date9:return_date9
                        submit9:submit9
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Edit Loan"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: loanid9
                                hint_text: "LoanID"
                                size_hint_y:0.1
                            TextInput:
                                id: return_date9
                                hint_text: "ReturnDate(yyyy-mm-dd)"
                                size_hint_y:0.1
                            Button:
                                id:submit9
                                text:"Submit"
                                size_hint_y:0.1
                                on_press:root.edit_loan_func(root.edit_loan.loanid9.text,root.edit_loan.return_date9.text)
                            Label:
                                text:"---"
                                id:message9
                    TabbedPanelItem:
                        text: "Edit Fine"
                        id:edit_fine
                        loanid10:loanid10
                        status10:status10
                        submit10:submit10
                        message10:message10
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Edit Fine"
                                font_size: 18
                                size_hint_y:0.1
                            TextInput:
                                id: loanid10
                                hint_text: "LoanID"
                                size_hint_y:0.1
                            TextInput:
                                id: status10
                                hint_text: "PaymentStatus(Paied/Unpaied)"
                                size_hint_y:0.1
                            Button:
                                id:submit10
                                text:"Submit"
                                size_hint_y:0.1
                                on_press:root.edit_fine_func(root.edit_fine.loanid10.text,root.edit_fine.status10.text)
                            Label:
                                text:"---"
                                id:message10
                    TabbedPanelItem:
                        text: "Loan"
                        id : register_loan
                        message11:message11
                        memberid11:memberid11
                        submit11:submit11
                        bookid11:bookid11
                        predicted_return_date11:predicted_return_date11
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "Register Loan"
                                font_size:18
                                size_hint_y:0.1
                            TextInput:
                                id: memberid11
                                hint_text: "MemberID"
                                size_hint_y:0.1
                            TextInput:
                                id: bookid11
                                hint_text: "BookID"
                                size_hint_y:0.1
                            TextInput:
                                id: predicted_return_date11
                                hint_text: "PredictedReturnDate(yyyy-mm-dd)"
                                size_hint_y:0.1
                            Button:
                                id:submit11
                                text:"Submit"
                                size_hint_y:0.1
                                on_press:root.register_loan_func(root.register_loan.memberid11.text,root.register_loan.bookid11.text,root.register_loan.predicted_return_date11.text)
                            Label:
                                text:"---"
                                id:message11
            TabbedPanelItem:
                text: "Reports"
                TabbedPanel:
                    do_default_tab: False
                    TabbedPanelItem:
                        text: "List Loans"
                        on_release:root.load_loans()
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "All Loans"
                                font_size: 18
                                size_hint_y:0.1
                            Label:
                                id:librarian_loan_report
                                text: "Null"
                                font_size:18
                                size_hint_y:0.1
                            RecycleView:
                                id: librarian_loans_list
                                viewclass: "MemberBorrowedBookRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(40)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                
                    TabbedPanelItem:
                        text: "List Fines"
                        on_release:root.load_fines()
                        BoxLayout:
                            orientation: "vertical"
                            padding: dp(10)
                            spacing: dp(10)
                            Label:
                                text: "All Fines"
                                font_size: 18
                                size_hint_y:0.1
                            Label:
                                id : librarian_fine_report
                                text: "Null"
                                font_size:18
                                size_hint_y:0.1
                            RecycleView:
                                id: librarian_fines_list
                                viewclass: "MemberFineRow"
                                RecycleBoxLayout:
                                    orientation: "vertical"
                                    default_size: None, dp(40)
                                    default_size_hint: 1, None
                                    size_hint_y: None
                                    height: self.minimum_height
                                